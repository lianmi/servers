syntax = "proto3"; 

package cc.lianmi.im.signal;
option go_package = "github.com/lianmi/servers/api/proto/signal";

//端对端设备注册，服务器端新增一条设备记录。主从设备都需要注册。
message RegDeviceReq{
   //由设备自己生成的注册id
   //0为无效值，有效值须大于0
   //是否必填-是
   int32   registrationId=1;
   //服务器分配的临时设备注册令牌
   //是否必填-是
   string  regToken=2;
   //用户身份公钥，用于效验
   //是否必填-是
   string  identityKey=3;
}

message RegDeviceRsp{
   //由服务器分配的设备索引
   //0为无效值，1固定分配给主设备，大于1的值分配给从设备
   //是否必填-是
   int32 deviceIndex=1;
}